query GetProject($id: String!) {
  project(id: $id) {
    id
    name
    dtCreated
  }
}

query ListProjects($first: Int, $after: String, $orderBy: ProjectOrder) {
  projects(first: $first, after: $after, orderBy: $orderBy) {
    nodes {
      id
      name
      dtCreated
    }

    pageInfo {
      hasNextPage
      endCursor
    }
  }
}

query ActivityLog($projectId: String!, $first: Int, $after: String) {
  projectActivities(projectId: $projectId, first: $first, after: $after) {
    nodes {
      __typename

      ... on ProjectDeploymentCreatedActivity {
        id
        dtCreated
        action

        actor {
          fullName
          email
          avatarUrl
        }

        deployment {
          id
          name
          dtDeleted
        }
      }

      ... on ProjectDeploymentDeletedActivity {
        id
        dtCreated
        action

        actor {
          fullName
          email
          avatarUrl
        }

        deployment {
          id
          name
          dtDeleted
        }
      }

      ... on ProjectDeploymentDisabledActivity {
        id
        dtCreated
        action

        actor {
          fullName
          email
          avatarUrl
        }

        deployment {
          id
          name
          dtDeleted
        }
      }

      ... on ProjectDeploymentEnabledActivity {
        id
        dtCreated
        action

        actor {
          fullName
          email
          avatarUrl
        }

        deployment {
          id
          name
          dtDeleted
        }
      }

      ... on ProjectDeploymentUpdatedActivity {
        id
        dtCreated
        action

        actor {
          fullName
          email
          avatarUrl
        }

        deployment {
          id
          name
          dtDeleted
        }
      }

      ... on ProjectDeploymentAutoscalingEnabledActivity {
        id
        dtCreated
        action

        actor {
          fullName
          email
          avatarUrl
        }

        deployment {
          id
          name
          dtDeleted
        }
      }

      ... on ProjectDeploymentAutoscalingDisabledActivity {
        id
        dtCreated
        action

        actor {
          fullName
          email
          avatarUrl
        }

        deployment {
          id
          name
          dtDeleted
        }
      }

      ... on ProjectDeploymentScaledActivity {
        id
        dtCreated
        action

        actor {
          fullName
          email
          avatarUrl
        }

        data {
          __typename
          from
          to
        }

        deployment {
          id
          name
          dtDeleted
        }
      }
    }

    pageInfo {
      hasNextPage
      endCursor
    }
  }
}
